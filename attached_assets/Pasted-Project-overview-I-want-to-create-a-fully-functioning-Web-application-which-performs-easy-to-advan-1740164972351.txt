Project overview:
I want to create a fully functioning Web application which performs easy to advanced  spatial statistical analysis and visualization related to clustering and membership such as heatmaps, k-means, Local Moran’s I. The purpose of the application is to minimize or remove onerous dependencies on expensive proprietary desktop software and esoteric knowledge, allowing SMEs and non-technical audiences to leverage through well designed UX/UI an application that allows them to bring their own input data and run the aforemntioend analyses in a controlled and transparent environment, again using FOSS components which can be easily referenced.

Furthermore, the Web application should have accessibility in mind as per the Government of Canada’s attempts to meet WGAC 2.1 “AAA” standards but balance any reasonable exceptions implied or contained in the language with tooltips, references and/or hypelinks to the portions/sections stipulating this. The web app shall employ the TBS common-look-and feel leveraging the WETT toolkit style guide.

The webapplictin shall avoid proprietary components or libraries such as Esri and embrces FOSS soltions wherever possible 

Here is a typical workflow of a average user of the indented app.

The user browses locally on their desktop via the Web app to the file location of a csv or geojson containting point geometries and possible other non-spatial attributes such as observation metrics, weights, etc.  If a CSV, there are valid WGS 1984 decimal degree latitude and logniguedes in separate fields which may not be always named ddlat/ ddlong  or lat / long , etc. the App will try to analyze and choose the valid ones as well as validate the coordiates. Also the markers appear in the Table of Contents as an operative layer that can be toggled on/off and/or the opacity set through a percentage value adjustment. They will appear above the basemap and above any boundary polygons rendered.

2. Once the file is chose, it is uploaded into the application and they are rendered as point markers, shifting and/or zoomoing to extent from the default one that is zoomed out to incorporate Canada. 
3. Marker clustering is employed where there are many in a small space and would not be idea to view individually at a small scale. Once the user zooms in they “explode” out. 
4. The user then uploades an optional boundary file (polygon) from the app via the file explorer browser button. It is looking for a valid geosjon and/or esri .shp  and/or esri feature class polygon which could be multipart. This boundary is rendered on the map above the basemap and below the markers. Also the boundary appear in the Table of Contents as an operative layer that can be toggled on/off and/or the opacity set through a percentage value adjustment.
5. The user will then choose through a drop down or radio button the analysis they want to perform. There will be 3 types available: heatmap generation; k-means clustering; and Local Moran’s I.
6. If the heatmap is chosen, the user hits execute – clearing any other previous heatmap analysis layer. This layer will appear above the basemap; below the markers and the polygon boundaries. Also the heatmap generated will appear in the Table of Contents as an operative layer that can be toggled on/off and/or the opacity set through a percentage value adjustment. This layer will be available for export as a geojson with the style guide intact.

7. The k-mean clusetering, when chosen will be run when the exection button is pressed. – cealring any other previous k-means clustering results on the map and the resultsi the dynamic table below the basemap. Also the k-means generated will appear in the Table of Contents as an operative layer that can be toggled on/off and/or the opacity set through a percentage value adjustment. The results of the k-means will be generated not only visually with distict marker colors to indicate membership but also the table will dynamically generate under the basemap wit the original ID, the membership/group ID, latitude, longitude, and weight appearing. There will be a limit of 10 rows per page. Anything beyond 10 will envoke pagination which will also have the Last and Next buttons and … once it goes beyond 10 pages. The table will be available for download either a csv and/or a geojson with the styling intact (i.e. the coloring and attributes). 
8. The most complex analysis will be the Local Moran’s I. This can only be executed as an option if a valid polygon boundary layer is uploaded and rerndered.  If not instructions will be provided to the user prompting them to do that so the analysis can be excuted. The local moarn’s I will take into account the uploaded points file. If a weight per point is not designated, it will use the count per polygon part.The resulting analysis will produce the HH, LL, LH, HL with tooltips indicating each one’s Z-score and P-score. The HH will be bright red; the LL will be bright blue; the LH will be purple; and the HL will be yellow. All polygons, regardless if they have a P or Z score of significance for a HH, LL, LH, orHL will be reflected in a row in the dynamic table which will be cleared if there was a previous analysi there from Local Moran’s I and/or k-means clustering. The layer result w generated will appear in the Table of Contents as an operative layer that can be toggled on/off and/or the opacity set through a percentage value adjustment. This layer will be available for export as a geojson with the style guide intact.
9. The general layout of the app will be the following. The top will be the government of Canada header as per the CLF; it will then have a section under it that announces the tool’s title: Clustering Analysis tool; the next section below it at almost 90% width will be the dynamic web map with the osm basemap as a default.  The 10% space to the right will be reserved for the table of contents wchihc will be dynamically updated w/ uploading data and the analysis results. Ensure that when new analysis or data is uploaded that the TOC is reflected as well; below the web map will be the buttons for uploading the point data, next to it the section for uploading the boundary file . Below this will be a section to choose between the 3 analysis types. Below that will be the dynamic table. Below the table will be the Government of Canada footer.
10. Ensure there is a link to have the French version of the web app. 



